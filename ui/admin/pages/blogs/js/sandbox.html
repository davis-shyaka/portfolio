<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
  </head>
  <body>
    <form id="my-form">
      <input type="" id="title" name="" />
      <input type="author" id="author" name="" />
      <textarea id="post" style="width: 500"></textarea>
      <button type="submit">submit</button>
    </form>

    <script type="text/javascript">
      document.getElementById("my-form").addEventListener("submit", (e) => {
        const sampleblog = [];
        e.preventDefault();

        const title = document.getElementById("title").value;
        const author = document.getElementById("author").value;
        const post = document.getElementById("post").value;
        // object datastructure

        const blog = {
          title: title,
          author: author,
          post: post,
        };

        sampleblog.push(blog);

        // save to localStorage
        localStorage.setItem("blog-demo", JSON.stringify(sampleblog));

        // how to retrieve from localstorage
        //JSON.parse(localStorage.getItem('blog-demo'))
      });

      document.addEventListener("DOMContentLoaded", () => {
        console.log(JSON.parse(localStorage.getItem("blog-demo")));

        // You will have to loop through the array and out put it in the body. you can try to google how it;s done
        // i have to go now.

        let createPost = (data) => {
          const blogData = document.localStorage.getItem("blog");
          // getting the stored data and inputing it int the table
          blogData.forEach((data) => {
            articles.insertAdjacentHTML(
              "afterbegin",
              `
  <tr>
  <td data-label="Cover">
    <img src="${data.cover}" alt="" srcset="" />
  </td>
  <td data-label="Title">${data.title}</td>
  <td data-label="Publ. Date">${data.posted}</td>
  <td data-label="Reads">${data.reads}</td>
  <td data-label="Action">
    <div class="actions">
        <i id="edit" onClick="editPost(this)" class="fa-solid fa-pen-to-square"></i>
        <i id="delete" onClick="deletePost(this)" class="fa-solid fa-trash"></i
    </div>
  </td>
</tr>
   
    `
            );
            title.value = "";
            caption.value = "";
            author.value = "";
            article.value = "";
            image.value = "";
            preview.style.display = "none";
          });
        };
        let deletePost = (e) => {
          e.parentElement.parentElement.parentElement.remove();
        };

        let editPost = (e) => {
          title.value = e.parentElement.previousElementSibling.innerHTML;
          e.parentElement.parentElement.remove();
        };
      });
    </script>
  </body>
</html>
